<ng-template [ngIf]="shop">

  <div class="row">
    <div>
      <h1 class="page-header">{{shop.name}}</h1>
    </div>
  </div>

  <tabset>

    <tab heading="{{ 'TAB_MAIN' | translate }}"  (selectTab)="tabSelected('Main')">
      <cw-shop-main></cw-shop-main>
    </tab>

    <tab heading="{{ 'TAB_SEO' | translate }}" (selectTab)="tabSelected('SEO')">
      <cw-shop-seo [shop]="shop" [reload]="reloadSEO"></cw-shop-seo>
    </tab>

    <tab heading="{{ 'SHOP_TAB_URL' | translate }}" (selectTab)="tabSelected('Urls')">
      <cw-shop-url [shop]="shop" [reload]="reloadUrls"></cw-shop-url>
    </tab>

    <tab heading="{{ 'SHOP_TAB_ALIAS' | translate }}" (selectTab)="tabSelected('Aliases')">
      <cw-shop-alias [shop]="shop" [reload]="reloadAliases"></cw-shop-alias>
    </tab>

    <tab heading="{{ 'SHOP_TAB_CURRENCY' | translate }}" (selectTab)="tabSelected('Currency')">
      <cw-shop-currency [shop]="shop" [reload]="reloadCurrency"></cw-shop-currency>
    </tab>

    <tab heading="{{ 'SHOP_TAB_LANGUAGE' | translate }}" (selectTab)="tabSelected('Language')">
      <cw-shop-language [shop]="shop"[reload]="reloadLanguage"></cw-shop-language>
    </tab>

    <tab heading="{{ 'SHOP_TAB_CATALOG' | translate }}" (selectTab)="tabSelected('Catalogue')">
      <cw-shop-catalog-min [shop]="shop" [reload]="reloadCatalogue"></cw-shop-catalog-min>
    </tab>

    <tab heading="{{ 'SHOP_TAB_LOCATIONS' | translate }}" (selectTab)="tabSelected('Locations')">
      <cw-shop-location [shop]="shop" [reload]="reloadLocations"></cw-shop-location>
    </tab>

    <tab heading="{{ 'SHOP_TAB_CARRIERS' | translate }}" (selectTab)="tabSelected('Carriers')">
      <cw-shop-carrier [shop]="shop" [reload]="reloadCarriers"></cw-shop-carrier>
    </tab>

    <tab heading="{{ 'SHOP_TAB_WAREHOUSES' | translate }}" (selectTab)="tabSelected('Warehouse')">
      <cw-shop-fulfilment-centre [shop]="shop" [reload]="reloadWarehouse"></cw-shop-fulfilment-centre>
    </tab>

    <tab heading="{{ 'TAB_ATTRIBUTES' | translate }}" (selectTab)="tabSelected('Attributes')">
      <cw-shop-attributes [shop]="shop" [reload]="reloadAttributes"></cw-shop-attributes>
    </tab>

    <tab heading="{{ 'SHOP_TAB_PGS' | translate }}" (selectTab)="tabSelected('PGs')">
      <cw-shop-payment-gateways [shop]="shop" [reload]="reloadPGs"></cw-shop-payment-gateways>
    </tab>

    <tab  (selectTab)="tabSelected('B2B')">

      <ng-template tabHeading>
        {{ 'CUSTOMERORDER_TAB_B2B' | translate }} <span class="label label-info">SaaS</span>
      </ng-template>

      <cw-shop-subs [shop]="shop" [reload]="reloadB2b"></cw-shop-subs>
    </tab>


    <tab  (selectTab)="tabSelected('Addressbook')">

      <ng-template tabHeading>
        {{ 'TAB_ADDRESSBOOK' | translate }} <span class="label label-info">SaaS</span>
      </ng-template>

      <cw-addressbook [customer]="shopCustomer" [reload]="reloadAddressbook" [shops]="addressShops"></cw-addressbook>
    </tab>

    <tab heading="{{ 'SHOP_TAB_OVERVIEW' | translate }}" (selectTab)="tabSelected('Summary')">
      <cw-shop-summary [shop]="shop" [reload]="reloadSummary"></cw-shop-summary>
    </tab>

    <tab  heading="{{ 'TAB_AUDIT' | translate }}" (selectTab)="tabSelected('Audit')">

      <div class="row">
        <div class="col-xs-12">
          <div class="panel-body">
            <div class="row">
              <div class="col-xs-4"><strong>{{ 'CREATED' | translate }}</strong></div>
              <div class="col-xs-8">{{ shop.createdTimestamp | cwdatetime }} {{ shop.createdBy }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4"><strong>{{ 'UPDATED' | translate }}</strong></div>
              <div class="col-xs-8">{{ shop.updatedTimestamp | cwdatetime }} {{ shop.updatedBy }}</div>
            </div>
          </div>
        </div>
      </div>

    </tab>

  </tabset>

</ng-template>
